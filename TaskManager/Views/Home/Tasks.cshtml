
@{
    ViewBag.Title = "Tasks";
}

<h2>Tasks</h2>


@section scripts
{
    @Scripts.Render("~/bundles/app")
   
}

<div>
    <ul data-bind="foreach: tasks">
        <li>
            <span data-bind="text: Name"></span><span data-bind="text: Author"></span>
            <small><a href="#" data-bind="click: $parent.getTaskDetail">Details</a></small>
            <small><a href="#" data-bind="click: $parent.getTaskDelete">Delete</a></small>
        </li>
    </ul>
   

</div>

<!-- ko if:detail() -->

<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">Detail</h2>
        </div>
        <table class="table">
            <tr><td>Name</td><td data-bind="text: detail().Name"></td></tr>
            <tr><td>Author</td><td data-bind="text: detail().AuthorName"></td></tr>
            <tr><td>Executor</td><td data-bind="text: detail().Executor"></td></tr>
            <tr><td>Status</td><td data-bind="text: detail().Status"></td></tr>
            <tr><td>Description</td><td data-bind="text: detail().Description"></td></tr>
        </table>
       
    </div>
</div>

<!-- /ko -->

<div class="col-md-4">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">Add Task</h2>
        </div>
        <div class="panel-body">
            <form class="form-horizontal" data-bind="submit: addTask">
                <div class="form-group">
                    <label  class="col-sm-2 control-label">Author</label>
                    <div class="col-sm-10">
                        <select data-bind="options:users, optionsText: 'Name', value: newTask.Author"></select>
                    </div>
                </div>
                <div class="form-group" data-bind="with: newTask">
                    <label  class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputName" data-bind="value:Name" />
                    </div>
                    <label  class="col-sm-2 control-label">Executor</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputExecutor" data-bind="value:Executor"  />
                    </div>
                    <label  class="col-sm-2 control-label">Status</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="inputStatus" data-bind="value:Status"  />
                    </div>
                    <label  class="col-sm-2 control-label">Description</label>
                    <div class="col-sm-10">
                        <input type="text"  class="form-control" id="inputDescription" data-bind="value:Description" />
                    </div>
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form>
        </div>
    </div>
</div>
